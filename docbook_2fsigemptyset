#title sigemptyset(3)
[wiki:function_sigemptyset(3) HTML 변환문서]

{{{#!plain
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<chapter lang=ko>
<!-- 작성자 : yundream             -->
<!-- 작성일 : 2004/09/11           -->
<!-- 연락처 : yundream@joinc.co.kr -->

<!-- 함수 이름을 입력합니다 -->
<title>sigemptyset(3)</title>

<!-- 이건 함수에 대한 대략적인 설명이구요 -->
<para>
	시그널 관련 조작
</para>
 
<!-- 여기에 함수의 간단한 사용법이 들어갑니다 -->
<section>
	<title>사용법</title>
	<para>
		<screen>
#include &lt;signal.h&gt;

int sigemptyset(sigset_t *set);
int sigfillset(sigset_t *set);
int sigaddset(sigset_t *set, int signum);
int sigdelset(sigset_t *set, int signum)
		</screen>
	</para>
</section>

<!-- 여기엔 함수의 자세한 설명 이 들어갑니다 -->
<section>
	<title>설명</title>
	<para>
		sigemptyset함수는 인자로 주어진 시그널 셋인 <emphasis>set</emphasis>
		에 포함되어 있는 모든 시그널을 비운다.
	</para>
	<para>
		sigfillset는 <emphasis>set</emphasis>에 포함된 모든 시그널을 채운다.
	</para>
	<para>
		sigaddset과 sigdelset는 <emphasis>set</emphasis>로 부터
		시그널 번호가 <emphasis>signum</emphasis>인 시그널을 추가하거나 삭제한다.
	</para>
</section>

<!-- 함수가 되돌려주는 값이구요 -->
<section>
	<title>반환값</title>
	<para>
		성공할 경우 0실패할 경우 -1을 리턴한다.
	</para>
</section>

<!-- 에러가 발생했을때 되돌려주는 값들입니다 -->
<section>
	<title>에러</title>
	<para>
		<variablelist>	
			<varlistentry>
			<term>EINVAL</term>	
			<listitem>
				<para>	
					잘못된 시그널 번호를 사용했다.
				</para>	
			</listitem>
			</varlistentry>
		</variablelist>	
	</para>
</section>

<!-- 마지막으로 에제 입니다                                                 -->
<!-- 여기에는 완전한 예제가 들어가 있는데, 굳이 완전한 예제를 만들필요 없이 -->
<!-- 코드 일부분만 작성해서 올려주셔도 됩니다                               --> 
<!-- "<", ">", "&" 등은 변환해 주셔야 하는데, 귀찮으시면 :-) 변환 하지 않   -->
<!-- 아도 됩니다. 제가 검사 해서 올리겠습니다                               -->
<!-- 예제에 대한 간단한 설명을 적어주셔도 되구요                            -->
<section>
	<title>예제</title>
	<para>
		<screen>
#include &lt;signal.h> 
#include &lt;unistd.h> 
#include &lt;string.h> 
#include &lt;stdio.h> 

void sig_int(int signo);
void sig_usr(int signo);

int main()
{
    int i = 0;
    struct sigaction intsig, usrsig;

    usrsig.sa_handler = sig_usr;
    sigemptyset(&amp;usrsig.sa_mask);
    usrsig.sa_flags = 0;

    intsig.sa_handler = sig_int;
    sigemptyset(&amp;intsig.sa_mask);
    intsig.sa_flags = 0;

    if (sigaction(SIGINT, &amp;intsig, 0) == -1)
    {
        printf ("signal(SIGINT) error");
        return -1;
    }    

    if (sigaction(SIGUSR2, &amp;usrsig, 0) == -1)
    {
        printf ("signal(SIGUSR2) error");
        return -1;
    }    

    while(1)
    {
        printf("%d\n", i);
        i++;
        sleep(1);
    }
}

void sig_int(int signo)
{
    sigset_t sigset, oldset;

    sigfillset(&amp;sigset);
    if (sigprocmask(SIG_BLOCK, &amp;sigset, &amp;oldset) < 0)
    {
        printf("sigprocmask %d error \n", signo);
    }
    fprintf(stderr, "SIGINT !!!!\n");
    sleep(5);
}

void sig_usr(int signo)
{
    printf("sig_usr2\n");
}
		</screen>
	</para>
</section>
<section>
	<title>참고문헌</title>
	<para>
		<orderedlist>
		<listitem>
			<para>
				sigaction(2)	
			</para>
		</listitem>
		<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/article_signal_%B4%D9%B7%E7%B1%E2_2">시그널 다루기 2</ulink>
			</para>
		</listitem>
		<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/article_signal_%B4%D9%B7%E7%B1%E2_3">시그널 다루기 3</ulink>
			</para>
		</listitem>
		<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/article_%BE%B2%B7%B9%B5%E5%BF%CD_%BD%C3%B1%D7%B3%CE">쓰레드와 시그널</ulink>
			</para>
		</listitem>
		</orderedlist>
	</para>
</section>
</chapter>
}}}
