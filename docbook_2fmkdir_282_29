#title mkdir(2)
[wiki:function_mkdir(2) HTML 변환문서]
{{{#!plain
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<chapter lang=ko>
<!-- 작성자 : yundream             -->
<!-- 작성일 : 2004/06/04           -->
<!-- 연락처 : yundream@joinc.co.kr -->

<!-- 함수 이름을 입력합니다 -->
<title>mkdir(2)</title>

<!-- 이건 함수에 대한 대략적인 설명이구요 -->
<para>
	디렉토리를 생성한다.
</para>
 
<!-- 여기에 함수의 간단한 사용법이 들어갑니다 -->
<section>
	<title>사용법</title>
	<para>
		<screen>
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;

int mkdir(const char *pathname, mode_t mode);
		</screen>
	</para>
</section>

<!-- 여기엔 함수의 자세한 설명 이 들어갑니다 -->
<section>
	<title>설명</title>
	<para>
		mkdir(2)는 <emphasis>pathname</emphasis>이름을 가지는 디렉토리를 
		만들려고 시도한다.
	</para>
	<para>
		<emphasis>mode</emphasis>는 사용할 수 있는 권한에 대한 허가권을 
		지정한다. 이것은 일반적으로 <emphasis>umask</emphasis>에 의해 
		수정된다. 만들어진 파일의 허가권은 (mode & ~umask)이다. 새롭게 
		만들어진 디렉토리는 프로세스의 유효(effective) uid의 소유이다.  
		만알 파일을 포함하는 디렉토리가 그룹 id비트가 설정되어 있거나 
		파일 시스템이 BSD 그룹 의미로 마운트 되어 있다면, 새 디렉토리는
		부모로 부터 그룹 소유권을 상속받는다. 그렇지 않으면, 프로세스의 
		유효 gid의 소유가 된다. 
	</para>
</section>

<!-- 함수가 되돌려주는 값이구요 -->
<section>
	<title>반환값</title>
	<para>
		성공하면 0을 실패하면 -1을 리턴한다.
	</para>
</section>

<!-- 에러가 발생했을때 되돌려주는 값들입니다 -->
<section>
	<title>에러</title>
	<para>
		<variablelist>	
			<varlistentry>
			<term>EEXIST</term>	
			<listitem>
				<para>	
				<emphasis>pathname</emphasis>가 일반파일 혹은 디렉토리의 
				형태로 이미 존재한다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>EFAULT</term>	
			<listitem>
				<para>	
				<emphasis>pathname</emphasis>이 접근할수 없는 주소공간을 가르키고 있다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>EACCESS</term>	
			<listitem>
				<para>	
				부모 디렉토리가 프로세스에게 쓰기 허가권을 허락하지 않았거나, 
				pathname에 있는 디렉토리 중 하나가 찾기 허가권이 없다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>ENAMETOOLONG</term>	
			<listitem>
				<para>	
				<emphasis>pathname</emphasis>이 너무 길다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>ENODIR</term>	
			<listitem>
				<para>	
				<emphasis>pathname</emphasis>에 디렉토리로서 사용한 요소가 
				디렉토리가 아니다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>ENOMEM</term>	
			<listitem>
				<para>	
				이용할 수 있는 커널 메모리가 충분하지 않다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>ENOMEM</term>	
			<listitem>
				<para>	
				이용할 수 있는 커널 메모리가 충분하지 않다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>EROFS</term>	
			<listitem>
				<para>	
				<emphasis>pathname</emphasis>가 읽기 전용 파일 시스템에 있는
				파일을 가리키고 있다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>ELOOP</term>	
			<listitem>
				<para>	
				너무 많은 심볼릭 링크를 <emphasis>pathname</emphasis>에서 만났다.
				</para>	
			</listitem>
			</varlistentry>
			<varlistentry>
			<term>ENOSPC</term>	
			<listitem>
				<para>	
				<emphasis>pathname</emphasis>을 포함하는 장치에 새 디렉토리를 
				위한 공간이 없다. 
				</para>	
			</listitem>
			</varlistentry>
		</variablelist>	
	</para>
</section>

<!-- 마지막으로 에제 입니다                                                 -->
<!-- 여기에는 완전한 예제가 들어가 있는데, 굳이 완전한 예제를 만들필요 없이 -->
<!-- 코드 일부분만 작성해서 올려주셔도 됩니다                               --> 
<!-- "<", ">", "&" 등은 변환해 주셔야 하는데, 귀찮으시면 :-) 변환 하지 않   -->
<!-- 아도 됩니다. 제가 검사 해서 올리겠습니다                               -->
<!-- 예제에 대한 간단한 설명을 적어주셔도 되구요                            -->
<section>
	<title>예제</title>
	<para>
		<screen>
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int main(int argc, char ** argv)
{
    if (argc != 2)
    {
        fprintf(stderr, "Usage : jmkdir dirname\n");
        return 1;
    }

    if(mkdir(argv[1], 0755))
    {
        perror("mkdir error");
        return 1;
    }

    return 0;
}
		</screen>
	</para>
</section>
<section>
	<title>참고문헌</title>
	<para>
		<orderedlist>
		<listitem>
			<para>
			read(2)
			</para>
		</listitem>
		<listitem>
			<para>
			write(2)
			</para>
		</listitem>
		<listitem>
			<para>
			fcntl(2)
			</para>
		</listitem>
		<listitem>
			<para>
			close(2)
			</para>
		</listitem>
		<listitem>
			<para>
			unlink(2)	
			</para>
		</listitem>
		<listitem>
			<para>
			open(2)
			</para>
		</listitem>
		<listitem>
			<para>
			mknod(2)
			</para>
		</listitem>
		<listitem>
			<para>
			stat(2)
			</para>
		</listitem>
		<listitem>
			<para>
			umask(2)
			</para>
		</listitem>
		<listitem>
			<para>
			mount(2)
			</para>
		</listitem>
		<listitem>
			<para>
			socket(2)
			</para>
		</listitem>
		<listitem>
			<para>
			fopen(2)
			</para>
		</listitem>
		</orderedlist>
	</para>
</section>
</chapter>
}}}
