#title DJango Tutorial 2 - 관리자 페이지 

== DJango 관리자 페이지 ==
이 문서를 읽기전에 [wiki:Site/Python/DJango/Tutorial01 Django Tutorial 01]은 먼저 읽어보시기를.

DJango는 관리자 기능을 내장하고 있습니다. 사이트 관리자와 그룹을 설정하고, 사이트 컨텐츠를 수정 혹은 삭제하기 위한 목적으로 사용할 수 있다는 군요. 어차피 model에서 테이블을 자동으로 만들어내니까. 이러한 관리자 기능을 추가하는 것도 그리 어렵지 않았겠지요.  

DJango는 신문사에서 사용하기 위해서 만들었다고 합니다. 그러다 보니, 컨텐츠를 배포하고 수정하고 하는 기능을 고민할 수 밖에 없었겠구요. DJango는 이러한 일들에 적합하도록 만들어져 있다고 합니다.

=== 관리자 페이지 활성화 하기 ===
DJango는 관리자 기능을 가지고 있지만 비활성 상태에 놓여있습니다. 이걸 활성화 해야 합니다. Tutorial 01에서 만든 서비스가 webnews였죠 !? 
  * webnews/setting.py의 __INSTALLED_APPS__에 "django.contrib.admin"를 추가합니다. 
  * python manage.py syncdb를 실행합니다. 
  * url.py를 수정합니다. admin 페이지를 요청할 때, admin.site.urls를 향하도록 했습니다. DJango 내장 관리자 페이지로 향하겠죠 ?
    {{{#!plain
from django.conf.urls.defaults import *

# Uncomment the next two lines to enable the admin:
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
    (r'^news/', include('news.urls')),
    (r'^admin/', include(admin.site.urls)),
)
}}}

=== 개발 서버 실행 ===
이제 개발 서버를 실행해서 관리자 페이지를 테스트 해보겠습니다.
{{{#!plain
python manage.py runserver
}}}

이제 브라우저로 /admin/을 향하면 됩니다. 개발서버니까 http://127.0.0.1:8000/admin/ 이 되겠네요. 
{{{#!html
<table style="width:auto;"><tr><td><a href="https://picasaweb.google.com/lh/photo/PhC50A3k7eHlqGWrJlUmzg?feat=embedwebsite"><img src="https://lh6.googleusercontent.com/-OFloSSViRMo/TiZ-JEDzKZI/AAAAAAAABwA/6f2m91uhlas/s800/django1.png" height="213" width="433" /></a></td></tr><tr><td style="font-family:arial,sans-serif; font-size:11px; text-align:right">보낸 사람 <a href="https://picasaweb.google.com/yundream/Linux?authuser=0&feat=embedwebsite">Linux</a></td></tr></table>
}}}

=== 관리자 페이지 ===
로그인에 성공하면 관리자 페이지가 뜹니다. 아 관리자 아이디와 패스워드는 Project 만들 때, 설정했던 그 아이디와 패스워드 입니다. 
{{{#!html
<table style="width:auto;"><tr><td><a href="https://picasaweb.google.com/lh/photo/QQ8W8S3CVpfOrxc3kLq65g?feat=embedwebsite"><img src="https://lh6.googleusercontent.com/-CHp9ZoCZTc4/TiZ-JMQjRGI/AAAAAAAABv8/7-9NVSjsoAI/s640/django2.png" height="172" width="640" /></a></td></tr><tr><td style="font-family:arial,sans-serif; font-size:11px; text-align:right">보낸 사람 <a href="https://picasaweb.google.com/yundream/Linux?authuser=0&feat=embedwebsite">Linux</a></td></tr></table>
}}}
유저와 컨텐츠 관리를 위한 메뉴를 확인할 수 있네요. 

=== webnews 사이트 관리하기 ===
하지만 아무 사이트도 나타나지 않습니다. 우리가 관리할 webnews도 나오지 않네요. 음.. 관리 사이트를 추가하려면, 애플리케이션 디렉토리에 admin.py 파일을 추가해야 한다고 합니다. 그러니까 news/admin.py 가 되겠죠. 
{{{#!plain
from news.models import News
from django.contrib import admin

admin.site.register(News)
}}}
변경내용은 동적으로 적용되지 않습니다. 테스트 서버를 다시 가동해야 합니다. 서버를 재 가동했더니, news 애플리케이션이 보이는 군요. 추가/수정/삭제 잘 됩니다. 이들 폼은 model을 기준으로 자동으로 만드니 개발자가 신경쓸 필요가 없고요. 

{{{#!comment
문서작성일 : 2011년 7월 20일
}}}
