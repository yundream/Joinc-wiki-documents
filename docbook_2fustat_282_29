#title ustat(2)
[wiki:function_ustat(2) HTML 변환문서]

{{{#!plain
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<chapter lang=ko>
<!-- 작성자 : yundream             -->
<!-- 작성일 : 2004/02/28           -->
<!-- 연락처 : yundream@joinc.co.kr -->

<!-- 함수 이름을 입력합니다 -->
<title>ustat(2)</title>

<!-- 이건 함수에 대한 대략적인 설명이구요 -->
<para>
	파일 시스템 정보를 얻는다.
</para>
 
<!-- 여기에 함수의 간단한 사용법이 들어갑니다 -->
<section>
	<title>사용법</title>
	<para>
		<screen>
#include &lt;sys/types.h&gt;

int ustat(dev_t dev, struct ustat * ubuf);
		</screen>
	</para>
</section>

<!-- 여기엔 함수의 자세한 설명 이 들어갑니다 -->
<section>
	<title>설명</title>
	<para>
		ustat 는 마운트된 파일 시스템에 대한 정보를 반환한다. 
		<emphasis>dev</emphasis>는 마운트된 파일 시스템을 포함한 
		장치번호이다. <emphasis>ubuf</emphasis>는 장치의 정보를 
		가지고 있는 구조체로 다음과 같이 정의되어 있다. 
		<screen>
	daddr_t f_tfree;                /* Total free blocks */
	ino_t   f_tinode;               /* Number of free inodes */
	char    f_fname[6];             /* Filsys name */
	char    f_fpack[6];             /* Filsys pack name */
		</screen>
		f_fname와 f_fpack는 현재 사용되지 않고 있으며 항상 NULL로 채워진다. 
	</para>
	<para>
		ustat(2)는 단지 호환성을 위해서 제공된다. 새로 작성되는 
		프로그램이라면 statfs(2)를 사용해야 한다. 
	</para>
</section>

<!-- 함수가 되돌려주는 값이구요 -->
<section>
	<title>반환값</title>
	<para>
		성공할경우 0을 실패했을경우에는 -1을 반환하며, 적당한 errno 값을 
		설정한다. 
	</para>
</section>

<!-- 에러가 발생했을때 되돌려주는 값들입니다 -->
<section>
	<title>에러</title>
	<para>
		<variablelist>	
			<varlistentry>
			<term>EINVAL</term>	
			<listitem>
				<para>	
					<emphasis>dev</emphasis>가 파일 시스템을 포함한 장치와 
					관련이 없다.
				</para>	
			</listitem>
			</varlistentry>

			<varlistentry>
			<term>EFAULT</term>
			<listitem>
				<para>
					<emphasis>ubuf</emphasis>가 잘못된 주소공간을 가리키고 있다.
				</para>
			</listitem>
			</varlistentry>
		</variablelist>	
	</para>
</section>
<section>
	<title>참고문헌</title>
	<para>
		<orderedlist>
		<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/Code_C_dfget">CDROM 꺼내기</ulink>
			</para>
		</listitem>
		<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/function_statfs(2)">statfs(2)</ulink>
			</para>
		</listitem>
		</orderedlist>
	</para>
</section>

</chapter>
}}}
