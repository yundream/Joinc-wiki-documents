#title getuid(2)
[wiki:function_getuid(2) HTML 변환문서]

{{{#!plain
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<chapter lang=ko>
<!-- 작성자 : yundream             -->
<!-- 작성일 : 2004/02/29           -->
<!-- 연락처 : yundream@joinc.co.kr --> 

<!-- 함수 이름을 입력합니다 -->
<title>getuid(2)</title>

<!-- 이건 함수에 대한 대략적인 설명이구요 -->
<para>
	유저 ID를 얻어온다.
</para>
 
<!-- 여기에 함수의 간단한 사용법이 들어갑니다 -->
<section>
	<title>사용법</title>
	<para>
		<screen>
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;

uid_t getuid(void);
uid_t geteuid(void);
		</screen>
	</para>
</section>

<!-- 여기엔 함수의 자세한 설명 이 들어갑니다 -->
<section>
	<title>설명</title>
	<para>
		getuid()는 현재 프로세스의 실제 유저 아이디를 얻어온다. 
	</para>
	<para>
		geteuid()는 현재 프로세스의 유효 유저 아이디(effective user ID)를 
		언어온다.
	</para>
	<para>
		실제 유저 아이디는 프로세스를 호출한 유저의 아이디이다. 
		유효 유저 아이디는 실행된 파일에 설졍된 SID를 가지는 아이디이다.  
	</para>
</section>

<!-- 함수가 되돌려주는 값이구요 -->
<section>
	<title>반환값</title>
	<para>
		유저의 ID를 되돌려준다.
	</para>
</section>

<!-- 에러가 발생했을때 되돌려주는 값들입니다 -->
<section>
	<title>에러</title>
	<para>
		이 함수들은 언제나 성공한다.
	</para>
</section>

<!-- 마지막으로 에제 입니다                                                 -->
<!-- 여기에는 완전한 예제가 들어가 있는데, 굳이 완전한 예제를 만들필요 없이 -->
<!-- 코드 일부분만 작성해서 올려주셔도 됩니다                               --> 
<!-- "<", ">", "&" 등은 변환해 주셔야 하는데, 귀찮으시면 :-) 변환 하지 않   -->
<!-- 아도 됩니다. 제가 검사 해서 올리겠습니다                               -->
<!-- 예제에 대한 간단한 설명을 적어주셔도 되구요                            -->
<section>
	<title>예제</title>
	<para>
		<screen>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;pwd.h&gt;

int main()
{
    struct passwd *lpwd;
    printf("UID    : %d\n",getuid());
    printf("EUID   : %d\n" ,geteuid());

    lpwd = getpwuid(getuid());
    printf("UNAME  : %s\n", lpwd-&gt;pw_name);

    lpwd = getpwuid(geteuid());
    printf("EUNAME : %s\n", lpwd-&gt;pw_name);

}
		</screen>
		위의 프로그램은 프로세스를 싱행 시킨 유저의 ID와 이름, 
		프로세스의 SID 와 이름을 출력한다. SID를 변경했을 때의 
		결과를 확인하기 위해서는 다음과 같이 root계정으로 해당 프로그램에
		SID를 부여한다음 다른 계정의 유저로 프로그램을 실행시켜 보면 된다. 
		<screen>
# chmod +s getuid
		</screen>
	</para>
</section>
<section>
	<title>참고문헌</title>
	<para>
		<orderedlist>
			<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/article_안전한_프로그래밍">안전한 프로그래밍</ulink>
			</para>
			</listitem>
			<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/function_seteuid(2)">seteuid(2)</ulink>
			</para>
			</listitem>
			<listitem>
			<para>
			<ulink url="http://www.joinc.co.kr/modules/moniwiki/wiki.php/function_setuid(2)">setuid(2)</ulink>
			</para>
			</listitem>
		</orderedlist>
	</para>
</section>
</chapter>
}}}
