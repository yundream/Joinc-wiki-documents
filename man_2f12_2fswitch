#title Switch 네트워크 장비

[[TableOFContents]]

== 네트워크 Switch ==
네트워크 스위치는 네트워크를 연결하는 일을 하는 특수목적의 컴퓨터기기다. 

Switch(스위치)는 자신에게 연결된 모든 기기들로 부터 들어오는 패킷을 수신하고, 이 패킷을 적당한 기기로 보내는 일을 한다. 스위치보다 단순한 네트워크 장비로 '''허브(hub)'''가 있다. 허브도 패킷을 수신하고 송신한다는 관점에서 보면 스위치와 근본적으로는 차이가 없다. 단 허브는 패킷을 "스위칭" 하지는 않는다. 그냥 주변의 모든 기기에게 패킷을 복제해서 전송한다. 비효율적인데다가 보안에도 문제가 있지만 매우 싸기 때문에, 여전히 사용하고 있다.

스위치는 [wiki:Site/TCP_IP/OSI7Layer OSI7] 계층에서, 어느 계층까지를 다루는지를 기준으로 스위치의 카테고리를 나눈다. 예컨데 2 계층을 다룬다면 L2 스위치, 4 계층을 다루면 L4 스위치, 7 계층을 다루면 L7 스위치 이런식이다. 일반적으로 높은 계층을 다루는 스위치일 수록 가격역시 더 비싸다(기능도 많아진다). 

{{{#!html
<img src="https://docs.google.com/drawings/d/1gGpnN0S03OJ0wd1ycExdnEyO9gBg1OqrTOXMsAerFw4/pub?w=734&amp;h=552" width=513 height=386>
}}}

=== Layer 1 ===
허브(network hub) 혹은 리피터(repeater) 라고 부르는 간단한 네트워크 장비다. 이들 장비는 패킷을 관리하지 않는다. 단순히 수신한 패킷을 복사해서, 다른 모든 포트로 보내는 일을 한다. 패킷이 반복돼서 복제되는데 이로 인해 패킷의 충돌이 증가한다. 이는 네트워크 스위치의 성능을 제한하는 주요 원인이 된다.

일반적으로 자주 사용하는 타입은 아니지만 "포트 미러링[[FootNote(RAP이라고도 부른다. 수신한 패킷을 다른 포트로 전달하는 방법이다. 주로 네트워크 트래픽을 감시하기 위한 패킷 복제본을 만들기 위해서 사용한다.)]]"과 같은 몇 몇 응용에 유용하게 사용할 수 있다.

=== Layer 2 ===
데이터 링크(Data link)계층에서 작동하는 네트워크 브릿지다. 가정 이나 소규모 사무실에서 적은 수의 디바이스를 연결하기 위해서 사용한다. 이 네트워크 장비는 각각의 연결된 디바이스의 MAC 주소를 저장하고, 이 (MAC)정보를 이용해서 포트를 스위칭한다. 

구성이 단순해서 많은 기능을 제공하지는 않지만, 단순한 만큼 매우 높은 성능을 보여주기 때문에, SAN(Storage area network)등의 특수한 목적에 주로 사용한다.

일반적으로 브릿지들은 '''[wiki:man/12/stp spanning tree protocol]'''을 이용해서, 로컬 네트워크에서의 루프를 제거한다.  

L1, L2 네트워크 장비들은 "브릿지 방식"으로 작동한다. 즉 연결하려는 두 네트워크의 대역이 동일하다.
=== Layer 3 ===
Layer 3의 네트워크 장비들은 Layer 2의 기능에 더해서, 통상적인 라우터들이 수행하는 기능의 일부 혹은 전부를 수행할 수 있다. Layer 3의 장비들은 IGMP를 이용해서 [wiki:man/12/IP IP] [wiki:Site/Network_Programing/Documents/MultiCast 멀티 캐스트] 기능을 지원한다. 멀티 캐스트 기능을 이용하면, 네트워크 종단에서 패킷을 받기 원하는 디바이스에게 패킷을 복사할 수 있기 때문에, 트래픽 효율성을 높일 수 있다.    

"라우터"라고 하면 L3 장비를 의미한다.

=== Layer 4 ===
Layer 4장비는 '''Layer 4 스위치'''라고 부른다. 여기에서 부터는 기능이 벤더 종속적으로 된다. 네트워크 주소 변환을 위한 기능과 함께, TCP 세션 기반의 부하분산등의 추가적인 기능들을 가진다. 

기업에서 가장 널리 사용하는 네트워크 장비다. 

=== Layer 7 ===
애플리케이션 레벨에서 트래픽을 처리할 수 있다. [wiki:Site/Network_Programing/AdvancedComm/HTTP HTTP]의 [wiki:man/12/URL URL], HTTP Cookie, FTP 파일이름 등을 이용한 정교한 로드밸런싱이 가능하다. 

근본적으로 L4와 L7 장비는 큰 차이가 없다. 얼마나 패킷을 지능적으로 분류할 수 있는지에 대한 능력에의 차이가 있는데, 크게 중요하게 생각하지는 않는 분위기다. L7 장비는 마케팅 차원에서 만들어낸 분류라고 말하는 사람들도 있다.  

== 참고 ==
 1. http://en.wikipedia.org/wiki/Network_switch 
 1. https://drive.google.com/file/d/0B6p_m8EvqxeuY0czMGJrWmlnUk0/edit?usp=sharing
