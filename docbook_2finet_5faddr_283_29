#title inet_addr(3)
[wiki:function_inet_addr(3) HTML 변환문서]

{{{#!plain
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<chapter lang=ko>
<!-- 작성자 : yundream             -->
<!-- 작성일 : 2004/01/03           -->
<!-- 연락처 : dreamyun@yahoo.co.kr -->

<!-- 함수 이름을 입력합니다 -->
<title>inet_addr(3)</title>

<!-- 이건 함수에 대한 대략적인 설명이구요 -->
<para>
	인터넷 주소를 변환한다.
</para>
 
<!-- 여기에 함수의 간단한 사용법이 들어갑니다 -->
<section>
	<title>사용법</title>
	<para>
		<screen>
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;

in_addr_t inet_addr(const char *cp);
int inet_aton(const char *cp, struct in_addr *inp);
in_addr_t inet_network(const char *cp);
char *inet_ntoa(struct in_addr in);
		</screen>
	</para>
</section>

<!-- 여기엔 함수의 자세한 설명 이 들어갑니다 -->
<section>
	<title>설명</title>
	<para>
		inet_addr()함수는 (점박이 3형제)인터넷 주소 <emphasis>cp</emphasis>를
		32bit 바이너리 주소로 변경한값을 리턴한다. 리턴된 값은 네트워크 바이트 오더를 
		따른다. 만약 잘못된 값을 입력했다면 INADDR_NONE(-1)을 리턴한다. 
		이 함수는 입력을 제대로 검사할 수 없으므로 가능하면 이 함수보다 
		inet_aton()을 사용하기 바란다. 왜냐하면 리턴되는 값 -1은 255.255.255.255로 올바른 
		주소를 나타내기 때문이다. inet_aton()은 에러 체크를 위한 확실한 방법을 제공한다. 
	</para>
	<para>
		inet_aton()함수는 inet_addr()의 보다 최신 버젼이다. inet_aton()은 주어진 인터넷 주소
		<emphasis>cp</emphasis>를 변경한 값을 <emphasis>inp</emphasis>에 복사한다. 잘못된 
		인터넷 주소를 입력했을 경우 0을 리턴한다. 변환값과 리턴값이 분리되어 있으므로 
		보다 확실한 입력 체크가 가능하다.
	</para>
	<para>
		inet_network()함수는 인터넷 주소 <emphasis>cp</emphasis>에 대한 호스트 바이트 오더를 
		따르는 바이너리 주소값을 리턴하는 걸 제외하면 inet_addr()과 동일하다.  
	</para>
	<para>
		inet_ntoa()는 <emphasis>in</emphasis>의 바이너리 인터넷 주소를 점박이 3형제 
		인터넷 주소로 변경한 다음 되돌려준다. 입력되는 값은 네트워크 바이트 오더를 
		따라야 한다. 
	</para>
	<para>
		<emphasis>in_addr</emphasis>구조체는 <emphasis>netinet/in.h</emphasis>에 정의되어 
		있다. 
		<screen>
struct in_addr
{
    unsigned long int s_addr;
}
		</screen>
	</para>
</section>

<!-- 마지막으로 에제 입니다                                                 -->
<!-- 여기에는 완전한 예제가 들어가 있는데, 굳이 완전한 예제를 만들필요 없이 -->
<!-- 코드 일부분만 작성해서 올려주셔도 됩니다                               --> 
<!-- "<", ">", "&" 등은 변환해 주셔야 하는데, 귀찮으시면 :-) 변환 하지 않   -->
<!-- 아도 됩니다. 제가 검사 해서 올리겠습니다                               -->
<!-- 예제에 대한 간단한 설명을 적어주셔도 되구요                            -->
<section>
	<title>예제</title>
	<para>
		<screen>
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int main(int argc, char **argv)
{
    char buf[256];
    struct in_addr laddr;
    int stat;

    while(1)
    {
        // 인터넷 주소를 입력 받는다.
        printf("INPUT ADDRESS : ");
        fgets(buf, 255, stdin);

        buf[strlen(buf) -1] = 0x00;
        if (strcmp(buf, "quit") == 0) break;

        stat = inet_aton(buf, &amp;laddr);
        if (!stat)
        {
            printf("Format Error\n");
        }
        else
        {
            printf("inet_addr    : %s =&gt; %d\n", buf, laddr.s_addr);
            printf("inet_ntoa    : %d =&gt; %s\n", laddr.s_addr, inet_ntoa(laddr)); 
        }
    }
    return 0;
}
		</screen>
	</para>
</section>
<section>
	<title>참고문헌</title>
	<para>
		<orderedlist>
			<listitem>
				<para>
					<ulink url="http://www.joinc.co.kr/modules.php?name=News&amp;file=article&amp;sid=79">Endian에 대해서</ulink>
				</para>
			</listitem>
			<listitem>
				<para>
					<ulink url="http://www.joinc.co.kr/modules.php?name=News&amp;file=article&amp;sid=57">Socket Layer</ulink>
				</para>
			</listitem>
		</orderedlist>
	</para>
</section>
</chapter>

}}}
